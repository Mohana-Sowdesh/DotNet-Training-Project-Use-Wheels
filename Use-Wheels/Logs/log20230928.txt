2023-09-28 11:26:39.669 +05:30 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using '/Users/mohanasowdesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-28 11:26:39.709 +05:30 [INF] Quartz.Core.SchedulerSignalerImpl Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-09-28 11:26:39.709 +05:30 [INF] Quartz.Core.QuartzScheduler Quartz Scheduler created
2023-09-28 11:26:39.709 +05:30 [INF] Quartz.Core.QuartzScheduler JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-09-28 11:26:39.710 +05:30 [INF] Quartz.Simpl.RAMJobStore RAMJobStore initialized.
2023-09-28 11:26:39.710 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-09-28 11:26:39.710 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-09-28 11:26:39.710 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-09-28 11:26:39.715 +05:30 [INF] Quartz.ContainerConfigurationProcessor Adding 1 jobs, 1 triggers.
2023-09-28 11:26:39.716 +05:30 [INF] Quartz.ContainerConfigurationProcessor Adding job: DEFAULT.CronJob
2023-09-28 11:26:40.031 +05:30 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7192
2023-09-28 11:26:40.031 +05:30 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5271
2023-09-28 11:26:40.031 +05:30 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2023-09-28 11:26:40.031 +05:30 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2023-09-28 11:26:40.032 +05:30 [INF] Microsoft.Hosting.Lifetime Content root path: /Users/mohanasowdesh/Projects/Use Wheels
2023-09-28 11:26:40.035 +05:30 [INF] Quartz.Core.QuartzScheduler Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-09-28 11:26:41.156 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:7192/swagger/index.html - -
2023-09-28 11:26:41.207 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:7192/swagger/index.html - - - 200 - text/html;charset=utf-8 51.8767ms
2023-09-28 11:26:41.263 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - -
2023-09-28 11:26:41.310 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.7658ms
2023-09-28 11:26:44.342 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - -
2023-09-28 11:26:44.366 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 23.9321ms
2023-09-28 13:03:00.715 +05:30 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using '/Users/mohanasowdesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-28 13:03:00.757 +05:30 [INF] Quartz.Core.SchedulerSignalerImpl Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-09-28 13:03:00.757 +05:30 [INF] Quartz.Core.QuartzScheduler Quartz Scheduler created
2023-09-28 13:03:00.757 +05:30 [INF] Quartz.Core.QuartzScheduler JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-09-28 13:03:00.757 +05:30 [INF] Quartz.Simpl.RAMJobStore RAMJobStore initialized.
2023-09-28 13:03:00.757 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-09-28 13:03:00.757 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-09-28 13:03:00.757 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-09-28 13:03:00.763 +05:30 [INF] Quartz.ContainerConfigurationProcessor Adding 1 jobs, 1 triggers.
2023-09-28 13:03:00.764 +05:30 [INF] Quartz.ContainerConfigurationProcessor Adding job: DEFAULT.CronJob
2023-09-28 13:03:00.973 +05:30 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7192
2023-09-28 13:03:00.973 +05:30 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5271
2023-09-28 13:03:00.974 +05:30 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2023-09-28 13:03:00.974 +05:30 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2023-09-28 13:03:00.974 +05:30 [INF] Microsoft.Hosting.Lifetime Content root path: /Users/mohanasowdesh/Projects/Use Wheels
2023-09-28 13:03:00.998 +05:30 [INF] Quartz.Core.QuartzScheduler Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-09-28 13:03:02.110 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:7192/swagger/index.html - -
2023-09-28 13:03:02.172 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:7192/swagger/index.html - - - 200 - text/html;charset=utf-8 62.7740ms
2023-09-28 13:03:02.225 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - -
2023-09-28 13:03:02.269 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 44.0819ms
2023-09-28 13:03:48.870 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST https://localhost:7192/register application/json-patch+json 227
2023-09-28 13:03:48.932 +05:30 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Use_Wheels.Controllers.UsersController.Register (Use Wheels)'
2023-09-28 13:03:48.943 +05:30 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Use_Wheels.Models.DTO.RegisterationRequestDTO) on controller Use_Wheels.Controllers.UsersController (Use Wheels).
2023-09-28 13:03:49.488 +05:30 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (41ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Dob`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`First_Name`, `a`.`Gender`, `a`.`Last_Login`, `a`.`Last_Name`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`Phone_Number`, `a`.`Role`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`isBlacked`
FROM `AspNetUsers` AS `a`
WHERE `a`.`UserName` = @__username_0
LIMIT 1
2023-09-28 13:03:49.497 +05:30 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Dob`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`First_Name`, `a`.`Gender`, `a`.`Last_Login`, `a`.`Last_Name`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`Phone_Number`, `a`.`Role`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`isBlacked`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Email` = @__email_0
LIMIT 1
2023-09-28 13:03:49.497 +05:30 [ERR]  User age is not above or equal to 18
2023-09-28 13:03:49.572 +05:30 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Use_Wheels.Controllers.UsersController.Register (Use Wheels) in 627.8952ms
2023-09-28 13:03:49.573 +05:30 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Use_Wheels.Controllers.UsersController.Register (Use Wheels)'
2023-09-28 13:03:49.582 +05:30 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Age must be above 18
   at Use_Wheels.Utility.RegisterUtility.ValidateNewRegisterationRequest(RegisterationRequestDTO registerationRequestDTO) in /Users/mohanasowdesh/Projects/Use Wheels/Utility/RegisterUtility.cs:line 23
   at Use_Wheels.Repository.UserRepository.Register(RegisterationRequestDTO registerationRequestDTO) in /Users/mohanasowdesh/Projects/Use Wheels/Repository/UserRepository.cs:line 83
   at Use_Wheels.Controllers.UsersController.Register(RegisterationRequestDTO model) in /Users/mohanasowdesh/Projects/Use Wheels/Controllers/UsersController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Use_Wheels.Auth.TokenValidator.Invoke(HttpContext httpContext) in /Users/mohanasowdesh/Projects/Use Wheels/Auth/TokenValidator.cs:line 28
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2023-09-28 13:03:49.593 +05:30 [ERR]  BadHttpRequestException : Age must be above 18
2023-09-28 13:03:49.598 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST https://localhost:7192/register application/json-patch+json 227 - 400 - application/json 727.7899ms
2023-09-28 14:38:57.333 +05:30 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using '/Users/mohanasowdesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-28 14:38:57.373 +05:30 [INF] Quartz.Core.SchedulerSignalerImpl Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-09-28 14:38:57.373 +05:30 [INF] Quartz.Core.QuartzScheduler Quartz Scheduler created
2023-09-28 14:38:57.373 +05:30 [INF] Quartz.Core.QuartzScheduler JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-09-28 14:38:57.373 +05:30 [INF] Quartz.Simpl.RAMJobStore RAMJobStore initialized.
2023-09-28 14:38:57.374 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-09-28 14:38:57.374 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-09-28 14:38:57.374 +05:30 [INF] Quartz.Impl.StdSchedulerFactory Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-09-28 14:38:57.379 +05:30 [INF] Quartz.ContainerConfigurationProcessor Adding 1 jobs, 1 triggers.
2023-09-28 14:38:57.380 +05:30 [INF] Quartz.ContainerConfigurationProcessor Adding job: DEFAULT.CronJob
2023-09-28 14:38:57.538 +05:30 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7192
2023-09-28 14:38:57.538 +05:30 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5271
2023-09-28 14:38:57.538 +05:30 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2023-09-28 14:38:57.538 +05:30 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2023-09-28 14:38:57.538 +05:30 [INF] Microsoft.Hosting.Lifetime Content root path: /Users/mohanasowdesh/Projects/Use Wheels
2023-09-28 14:38:57.541 +05:30 [INF] Quartz.Core.QuartzScheduler Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-09-28 14:38:58.688 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:7192/swagger/index.html - -
2023-09-28 14:38:58.738 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:7192/swagger/index.html - - - 200 - text/html;charset=utf-8 51.1413ms
2023-09-28 14:38:58.791 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - -
2023-09-28 14:38:58.834 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:7192/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.7397ms
2023-09-28 14:39:11.441 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST https://localhost:7192/login application/json-patch+json 50
2023-09-28 14:39:11.502 +05:30 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Use_Wheels.Controllers.UsersController.Login (UseWheels)'
2023-09-28 14:39:11.513 +05:30 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Use_Wheels.Models.DTO.LoginRequestDTO) on controller Use_Wheels.Controllers.UsersController (UseWheels).
2023-09-28 14:39:12.044 +05:30 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (20ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Dob`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`First_Name`, `a`.`Gender`, `a`.`Last_Login`, `a`.`Last_Name`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`Phone_Number`, `a`.`Role`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`isBlacked`
FROM `AspNetUsers` AS `a`
WHERE LOWER(`a`.`UserName`) = @__ToLower_0
LIMIT 1
2023-09-28 14:39:12.158 +05:30 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (12ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (DbType = Date), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p21='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `ConcurrencyStamp` = @p1, `Dob` = @p2, `Email` = @p3, `EmailConfirmed` = @p4, `First_Name` = @p5, `Gender` = @p6, `Last_Login` = @p7, `Last_Name` = @p8, `LockoutEnabled` = @p9, `LockoutEnd` = @p10, `NormalizedEmail` = @p11, `NormalizedUserName` = @p12, `PasswordHash` = @p13, `PhoneNumber` = @p14, `PhoneNumberConfirmed` = @p15, `Phone_Number` = @p16, `Role` = @p17, `SecurityStamp` = @p18, `TwoFactorEnabled` = @p19, `UserName` = @p20, `isBlacked` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2023-09-28 14:39:12.184 +05:30 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2023-09-28 14:39:12.221 +05:30 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Use_Wheels.Models.DTO.APIResponseDTO'.
2023-09-28 14:39:12.234 +05:30 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Use_Wheels.Controllers.UsersController.Login (UseWheels) in 719.7396ms
2023-09-28 14:39:12.234 +05:30 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Use_Wheels.Controllers.UsersController.Login (UseWheels)'
2023-09-28 14:39:12.237 +05:30 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST https://localhost:7192/login application/json-patch+json 50 - 200 406 application/json;+charset=utf-8 796.2659ms
